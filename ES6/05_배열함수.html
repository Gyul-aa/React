<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        배열 함수
        : forEach(), map()
    </title>
    <script>

        //문자열 쿼리 스트링
        const qs = 'banana = 10 & apple = 20 & orange = 30';

       /* 0. 기본 for문 */
        //    function parse(qs) {
        //         // substr(시작인덱스,가져올 글자수) = 0이면 해당 문자열 다 가져옴
        //         var queryString = qs.substr(0); // banana=10&apple=20&orange=30
        //         // alert(queryString);

        //         // split('해당기호')를 기준으로 문자열을 [배열]로
        //         var chunks = queryString.split('&'); // ['banana=10','apple=20','orange=30']
        //         // alert(chunks);

        //         // 객체로 데이터 저장
        //         var result = {};
        //         // 배열 데이터 추출
        //         for(var i=0; i<chunks.length; i++){
        //             var parts = chunks[i].split('=');
        //             var key = parts[0];
        //             var value = Number.isNaN(Number(parts[1])) ? parts[1] : Number(parts[1]);
        //             result[key] = value;
        //         }
        //         return result;
        //     }
        //     const params = parse(qs);
        //     console.log(params);

        // /* 1. 배열함수 forEach() : 기존의 for문의 i++, 배열크기 length 생략가능 */
        // function parse(qs){
        //     const queryString = qs.substr(0); // banana=10&apple=20&orange=30
        //     const chunks = queryString.split('&'); // ['banana=10','apple=20','orange=30']
        //     // 객체로 값 저장
        //     let result = {};
        //     chunks.forEach((item) => {
        //         // '='을 기준으로 key,value에 값 할당
        //         const [key, value] = item.split('='); // key='banana', value='10' | ..
        //         result[key] = value;
        //     });
        //     return result;
        // }
        // // 함수 호출 변수 할당
        // const params = parse(qs);
        // console.log(params); // {banana: "10",,}

        /* 2. 배열함수 map()
            : 불변함수(const) 사용 시 주로 사용
            각 배열 요소로 정의된 함수를 통해 반환된 결괏값을 [새배열]로 반환함
            즉, 배열을 가공하여 새 배열로 만드는 함수임

           -  map() 함수의 특징
            a. 배열 item을 실행하며 값을 출력
            b. 그 함수가 반환한 값이 모여 [배열]이 됨
            c. 결론) map()을 사용하면 배열 데이터가 몇개가 있던지 쉽게 데이터를 가공할 수 있음
        */

        // function parse(qs){
        //     const queryString = qs.substr(0);
        //     const chunks = queryString.split('&');
        //     const result = chunks.map((item)=>{
        //         const[key,value] = item,split('=');
        //         return{
        //             key: key,
        //             value: value
        //         }
        //     });
        //     return result;
        // }
        // // 함수호출
        // const params = parse(qs);
        // console.log(params);


    </script>
</head>
<body>
    
</body>
</html>